{"version":3,"sources":["webpack:///./scripts/rendering.js","webpack:///./scripts/notifications.js","webpack:///./index.js","webpack:///./scripts/validate_input.js","webpack:///./scripts/fetchCountries.js"],"names":["htmlArea","document","querySelector","input","displayResults","data","number","length","innerHTML","alert","text","status","error","html","forEach","country","flag","name","capital","population","languages","map","language","renderHtmlFrom","addEventListener","debounce","target","value","trim","console","log","invalidString","fetch","then","res","json","catch","fetchCountries"],"mappings":"iOAGaA,G,oBAAWC,SAASC,cAAc,eAClCC,EAAQF,SAASC,cAAc,WAkC/BE,EAAiB,SAACC,GAE3B,ICnCyBC,EDmCnBC,EAASF,EAAKE,OAKpB,OAHAP,EAASQ,UAAY,GAGlBD,EAAS,ICxCaD,EDyCDC,ECzCYE,gBAAM,CAC1CC,KAAM,IAAIJ,EAAN,mDD2Cc,KAAfD,EAAKM,QCxCsBC,gBAAM,CACxCF,KAAM,+CD2CEH,EAAS,EAtCM,SAACF,GACpB,IAAIQ,EAAO,GAmBX,OAlBAR,EAAKS,SAAQ,SAAAC,GACbF,GAAI,uIAIwCE,EAAQC,KAJhD,UAI8DD,EAAQE,KAJtE,yGAOkCF,EAAQE,KAP1C,+DAQ+CF,EAAQG,QARvD,sEASqDH,EAAQI,WAT7D,qEAUqEJ,EAAQK,UApBzDC,KAAI,SAAAC,GAAQ,OAAIA,EAASL,QAU7C,gEALJ,iCAgB8DF,EAAQE,KAXlE,8FAgBJjB,EAASQ,UAAYK,EACdR,EAmBEkB,CAAelB,QADxB,I,UEhCJF,EAAMqB,iBAAiB,QAASC,GAbV,SAACpB,GACnB,IAAMY,EAAOZ,EAAKqB,OAAOC,OCPd,SAAwBV,GAEnC,OAAIA,EAAKW,SACLC,QAAQC,IAAI,iBACZ9B,EAASQ,UAAY,IACd,IDKRuB,CAAcd,IEZN,SAAwBA,GAEnC,OAAOe,MADK,yCAAyCf,GACnCgB,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQC,MAAMP,QAAQC,KFaxDO,CAAepB,GACdgB,KAAK7B,GACLgC,MAAMP,QAAQC,OAIqC,Q","file":"main.a7999272724fd2e68aa6.js","sourcesContent":["import { PNotifyAlert, PNotifyError } from './notifications.js'\n\n\nexport const htmlArea = document.querySelector(\"#countries\")\nexport const input = document.querySelector(\"#search\")\n\n\nconst showLanguagesFrom = (array) => {\n    const languages = array.map(language => language.name)\n    return languages\n  }\n  \nconst moreInfoAbout = (countryName) => {\n    return `https://en.wikipedia.org/wiki/${countryName}`\n  }\nconst renderHtmlFrom = (data) => {\n    let html = \"\"\n    data.forEach(country => {\n    html +=\n      `<div class=\"country\">\n        <div class=\"row\">\n            <div class=\"col-sm-6\">\n              <img class=\"country__flag\" src=\"${country.flag}\" alt=\"${country.name}\" />\n            </div>\n            <div class=\"col-sm-6\">\n              <h2 class=\"country__name\">${country.name}</h2>\n              <div class=\"country__capital\">Capital: ${country.capital}</div>\n              <div class=\"country__population\">Population: ${country.population}</div>\n              <div class=\"country__languages\">Languages: ${showLanguagesFrom(country.languages)} </div>\n              <div class=\"country__more\"><a href=\"${moreInfoAbout(country.name)}\" target=\"_blank\">More info</a></div>\n            </div>\n        </div>\n      </div>`\n    })\n    htmlArea.innerHTML = html\n    return data\n  }\n\nexport const displayResults = (data) => {\n\n    const length = data.length\n    //clean html\n    htmlArea.innerHTML = \"\"\n\n    //send notificationstatus\n    if(length > 10) {\n        return PNotifyAlert(length);\n    }\n\n    if(data.status == 404) {\n      PNotifyError()\n    }\n\n    if (length > 0) {\n      return renderHtmlFrom(data)\n    }\n\n\n}\n","import { alert, error } from '@pnotify/core';\nimport '@pnotify/core/dist/PNotify.css';\nimport '@pnotify/core/dist/BrightTheme.css';\n\n\nexport const PNotifyAlert = (number) => alert({\n    text: ` ${number} countries found. Please, specify exact name`\n});\n\nexport const PNotifyError = () => error({\ntext: \"Country not found. Please try another name\"\n});\n","import './styles.scss';\n\nimport * as debounce from 'lodash.debounce'\nimport  fetchCountries  from './scripts/fetchCountries'\nimport { input, displayResults } from './scripts/rendering'\nimport invalidString from './scripts/validate_input'\n\n\nconst searchCountry = (data) => {\n    const name = data.target.value\n    //don't allow strings with only spaces\n    //should we do validation in HTML ?\n    if(invalidString(name)) {\n        return\n    }\n    fetchCountries(name)\n    .then(displayResults)\n    .catch(console.log);\n\n  }\n\ninput.addEventListener(\"input\", debounce(searchCountry, 500))\n","import { htmlArea } from './rendering.js'\n\nexport default function invalidString (name) {\n    // invalid if contains only spaces\n    if(!name.trim()) {\n        console.log(\"name is empty\")\n        htmlArea.innerHTML = \"\"\n        return true\n    } \n    else {\n        return false\n    }\n}\n","export default function fetchCountries(name) {\n    const url = `https://restcountries.eu/rest/v2/name/${name}`;\n    return fetch(url).then(res => res.json()).catch(console.log);\n} \n"],"sourceRoot":""}